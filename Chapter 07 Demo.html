<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width">
  <title>Chapter 7 Demo</title>


  <!-- Including P5 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
  
 <!-- Including Math -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/9.4.3/math.js"></script>

  <!-- Including MathJax -->
  <script>
  MathJax = {
    tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]}
  };
  </script>
  <script id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <!-- Including Plotly -->
  <script>
  window.PlotlyConfig = {MathJaxConfig: 'local'}
  </script>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

  <!-- Including D3 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.0.0/d3.min.js"></script>

   <!-- Including JSXGraph -->
  <script type="text/javascript" charset="UTF-8"
 src="https://cdn.jsdelivr.net/npm/jsxgraph/distrib/jsxgraphcore.js"></script>
 <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/jsxgraph/distrib/jsxgraph.css" />


 <script src="js/auxiliary.js"> </script> 


  <style>

.range-wrap {
  position: relative;
  margin: 0 8% 2.3rem 0rem;
}
.range {
  width: 100%;
}
.bubble {
  background: dodgerblue;
  color: white;
  padding: 4px 12px;
  position: absolute;
  border-radius: 4px;
  left: 50%;
  transform: translateX(-50%);
}

.bubble::after {
  content: "";
  position: absolute;
  width: 2px;
  height: 2px;
  background: dodgerblue;
  top: -1px;
  left: 50%;
}


/* Create two unequal columns that floats next to each other */
.column {
  float: left;
  flex: 50%;
}

.left {
 float: left;
 width: 50%;

}

.right {
  float: left;
  width: 50%;

}

/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
}

Responsive layout - makes the two columns stack on top of each other instead of next to each other 
@media screen and (width: 620px) {
.left, .right {
  width: 100%;
}
}
</style>

<link rel="stylesheet" href="css/style.css">

</head>



<body id = "body">


<nav>
<a href="index_page.html">back to menu</a> | 
<a href="Chapter 06 Demo.html">previous Chapter</a> | 
<a href="Chapter 08 Demo.html">next Chapter</a>
</nav>


<p style="display: none">
$\newcommand{\R}{\mathbf{R}}
\newcommand{\C}{\mathbf{C}}
\newcommand{\A}{\mathcal{A}}
\newcommand{\cF}{\mathcal{F}}
\newcommand{\SPAN}{\text{span}}
\newcommand{\B}{\mathcal{B}}
\newcommand{\calL}{\mathcal{L}}
\renewcommand{\u}{\mathbf{u}}
\newcommand{\uu}{\mathbf{u}}
\newcommand{\e}{\mathbf{e}}
\newcommand{\vv}{\mathbf{v}}
\newcommand{\w}{\mathbf{w}}
\newcommand{\ww}{\mathbf{w}}
\newcommand{\x}{\mathbf{x}}
\newcommand{\xx}{\mathbf{x}}
\newcommand{\y}{\mathbf{y}}
\newcommand{\yy}{\mathbf{y}}
\newcommand{\Cbar}{\overline{\mathbf{C}}}
\newcommand{\Dbar}{\overline{\mathbf{D}}}
\newcommand{\X}{\mathbf{X}}
\newcommand{\Y}{\mathbf{Y}}$

\newcommand{\Xbar}{\widehat{\mathbf{X}}}
\newcommand{\Ybar}{\widehat{\mathbf{Y}}}
\newcommand{\zz}{\mathbf{z}}
\renewcommand{\a}{\mathbf{a}}
\renewcommand{\aa}{\mathbf{a}}
\newcommand{\bb}{\mathbf{b}}
\newcommand{\cc}{\mathbf{c}}
\newcommand{\ee}{\mathbf{e}}
\newcommand{\hh}{\mathbf{h}}
\newcommand{\m}{\mathbf{m}}
\newcommand{\0}{\mathbf{0}}
\newcommand{\ve}[1]{\mathbf{#1}}
\newcommand{\col}[1]{\ifmmode\begin{bmatrix}#1\end{bmatrix}\else 
$\begin{bmatrix}#1\end{bmatrix}$\fi}
\newcommand{\scol}[1]{\left[\begin{smallmatrix}#1\end{smallmatrix}\right]}
\newcommand{\rref}{\operatorname{rref}}
\newcommand{\hide}[1]{{}}
\newcommand{\proj}{\operatorname{\mathbf{Proj}}}
\newcommand{\Span}{\operatorname{span}}
\newcommand{\pd}[2]{\frac{\partial #1}{\partial #2}}
\newcommand{\pdt}[2]{\tfrac{\partial #1}{\partial #2}}
\newcommand{\pdd}[2]{\dfrac{\partial #1}{\partial #2}}

\newcommand{\svdots}{\raisebox{3pt}{$\scalebox{.75}{\vdots}$}}
\newcommand{\sddots}{\raisebox{3pt}{$\scalebox{.75}{$\ddots$}$}}


\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\Char}{char}
\DeclareMathOperator{\Cl}{Cl}
\DeclareMathOperator{\codim}{codim}
\DeclareMathOperator{\coker}{coker}
\DeclareMathOperator{\disc}{disc}
\DeclareMathOperator{\dist}{dist}
\DeclareMathOperator{\Div}{Div}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\Eth}{Eth}
\DeclareMathOperator{\Frac}{Frac}
\DeclareMathOperator{\Free}{Free}
%\DeclareMathOperator{\frob}{frob}
%\DeclareMathOperator{\Gal}{Gal}
%\DeclareMathOperator{\genus}{genus}
%\DeclareMathOperator{\Hecke}{Hecke}
\DeclareMathOperator{\Hom}{Hom}
%\DeclareMathOperator{\id}{id}
%\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\lcm}{lcm}
\DeclareMathOperator{\Mat}{Mat}
\DeclareMathOperator{\modulo}{\medspace mod}
\DeclareMathOperator{\Norm}{N}
%\DeclareMathOperator{\nullity}{nullity}
\DeclareMathOperator{\ord}{ord}
\DeclareMathOperator{\Pic}{Pic}
%\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\red}{red}
\DeclareMathOperator{\res}{res}
\DeclareMathOperator{\sgn}{sgn}
%\DeclareMathOperator{\Span}{span}
\DeclareMathOperator{\Spec}{Spec}
\DeclareMathOperator{\Split}{Split}
\DeclareMathOperator{\Sturm}{Sturm}
\DeclareMathOperator{\Supp}{Supp}
\DeclareMathOperator{\Tate}{Tate}
\DeclareMathOperator{\tors}{tors}
%\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator{\val}{val}
\DeclareMathOperator{\Weil}{Weil}

\DeclareMathOperator{\sech}{sech}

\newcommand{\adjacent}{\leftrightarrow}

\DeclareMathOperator{\GL}{GL}
\DeclareMathOperator{\SL}{SL}
\DeclareMathOperator{\PGL}{PGL}
\DeclareMathOperator{\PSL}{PSL}
\DeclareMathOperator{\SO}{SO}

\newcommand{\cm}{\text{,}}
%\newcommand{\pd}{\text{.}}
\newcommand{\n}{\noindent}

\newcommand{\Omicron}{\mathrm{O}}
\newcommand{\Zeta}{\mathrm{Z}}

\renewcommand{\div}{\mathop{\mathrm{div}}}
\renewcommand{\Im}{\mathop{\mathrm{Im}}}
\renewcommand{\Re}{\mathop{\mathrm{Re}}}
\renewcommand{\ss}{\mathop{\mathrm{ss}}}
\newcommand{\elliptic}{\mathop{\mathrm{ell}}}

\newcommand{\new}{\mathop{\mathrm{new}}}
\newcommand{\old}{\mathop{\mathrm{old}}}

\newcommand{\Bs}{\boldsymbol}
%\newcommand{\ds}{\displaystyle}
%\newcommand{\f}{\mathfrak}
\newcommand{\s}{\mathcal}

%\newcommand{\A}{\mathbb{A}}
%\newcommand{\C}{\mathbb{C}}
\newcommand{\F}{\mathbb{F}}
\newcommand{\Fpbar}{\bar{\mathbb{\F}}_p}
\newcommand{\G}{\mathbb{G}}
\newcommand{\Gm}{\mathbb{G}_{\mathrm{m}}}
\newcommand{\N}{\mathbb{N}}
\renewcommand{\P}{\mathbb{P}}
\newcommand{\Q}{\mathbb{Q}}
%\newcommand{\R}{\mathbb{R}}
%\newcommand{\R}{\mathbf{R}}
\newcommand{\T}{\mathbb{T}}
\newcommand{\V}{\mathcal{V}}
\newcommand{\Z}{\mathbb{Z}}

\newcommand{\E}{\mathbf{E}}
\renewcommand{\H}{\mathrm{H}}
\newcommand{\M}{\mathbf{M}}
\renewcommand{\S}{\mathbf{S}}

\newcommand{\var}{\mathbf{Var}}
\newcommand{\eps}{\varepsilon}

\newcommand{\erf}{\operatorname{erf}}

\newcommand{\rar}{\rightarrow}
\newcommand{\lar}{\leftarrow}
\newcommand{\hrar}{\hookrightarrow}
\renewcommand{\iff}{\Longleftrightarrow}
\newcommand{\xrar}{\xrightarrow}
\newcommand{\rrar}{\longrightarrow}
\newcommand{\mt}{\mapsto}
\newcommand{\mmt}{\longmapsto}

\newcommand{\angles}[1]{\langle #1\rangle}
\newcommand{\ceiling}[1]{\lceil #1\rceil}
\newcommand{\floor}[1]{\lfloor #1\rfloor}

\newcommand{\set}[2]{\{\,#1\,\,|\,\,#2\,\}}

\renewcommand{\emph}{\it}
\renewcommand{\em}{\emph}

$\newcommand{\pd}[2]{\frac{\partial #1}{\partial #2}}$
</p>


<article>

    <h1>Chapter 7</h1>  


<h3>Visualizing matrix exponentials.</h3>


<p> Recall in this chapter we introduced the concept of the matrix exponential $e^M$ for a square matrix $M$. For an $n \times n$ matrix $M$, the $n \times n$ <i>matrix exponential</i> $e^M$ is the infinite series
$$e^M = \sum_{k=0}^{\infty} \frac{1}{k!} M^k = {\rm{I}}_n + M + \frac{1}{2!}M^2 + \frac{1}{3!}M^3 + \dots.$$
</p>

<p> For example, for $A = \begin{bmatrix} 1 & 1 \\ 0 & 1 \end{bmatrix}$ we find $e^A = \begin{bmatrix} e&e\\0&e\end{bmatrix}$. More generally, let $M = \begin{bmatrix} t & x \\ 0 & t \end{bmatrix}$ for any $t$ and $x$. Then its matrix exponential is $e^M = \begin{bmatrix} e^t & xe^t\\0 & e^t \end{bmatrix}$. 
</p>

<p> One thing to be careful about is whether or not $e^{A+B} = e^A e^B$.  
Since $e^{A+B}$ is the sum of terms $(1/k!)(A+B)^k$, the complication is that the "binomial formula"
for $(A+B)^k$ breaks down if $AB \ne BA$ (the analogy with how $e^x$ behaves for scalars $x$
breaks down in some ways).   Already for $k=2$ we see a problem because
$(A+B)(A+B) = A^2 + AB+BA + B^2$ is not the same as $A^2+2AB+B^2$ when $AB \ne BA$. </p>

<p> The good news is that <i>if</i>
$AB=BA$ then the binomial formula does hold for $(A+B)^k$, and we have
$$e^A e^B = e^{A+B}\,\,\,\mbox{ when } 
AB=BA.$$
For instance, since $c_1 M$ and $c_2 M$ commute for any scalars $c_1, c_2$, we have
$$e^{c_1 M} e^{c_2 M} = e^{c_1 M + c_2 M} = e^{(c_1+c_2)M}, $$
$$\mbox{and iterating } e^{c_1 M} e^{c_2 M} \cdots e^{c_k M} = e^{(c_1+\dots+c_k)M}.$$</p>

<p> As a special case, 
\begin{equation}
(e^M)^k = e^{kM} \mbox{ for every } k \ge 1\,\,\,
\mbox{(so } (e^{(1/k)M})^k = e^M).
\end{equation}
</p>
<p> Taking $c_1 = 1$ and $c_2 = -1$, 
since $M$ and $-M$ commute for any $M$, we
have 
$$e^M e^{-M} = e^{0} = {\rm{I}}_n$$
for any $M$, so $e^M$ <i>is always invertible with inverse</i> $e^{-M}$.
Sadly, if $AB \ne BA$ then generally $e^A e^B \ne e^{A+B}$. The story of how to deal with this "great matrix exponential tragedy" is beyond the level of this course.
The power identity above can be used to show
$$e^M = \lim_{k \to \infty}({\rm{I}}_n + (1/k)M)^k.$$
 </p>

<p> Here is why the matrix exponential $e^M$ for $M = tA$ is so useful in the study of $\x' = A\x$: For an $n$-vector $\mathbf{b}$ and an $n \times n$ matrix $A$, the function $\y(t) = e^{tA}\mathbf{b}$ satisfies
$$\y'(t) =  A(e^{tA}\mathbf{b}) = A \y(t),\,\,\, \y(0)=\mathbf{b}.$$</p>

<p> Here we visualize the matrix exponential $e^{tA}$ from $t=0$ to $t=1$ for a $2\times 2$ matrix $A = \begin{bmatrix}a & b \\ c & d \end{bmatrix}$ by showing the two curves $e^{tA}e_1$ and $e^{tA}e_2$ for $0\le t \le 1$. (Here $e_1 = \begin{bmatrix} 1 \\0\end{bmatrix}$ and $e_2 = \begin{bmatrix} 0 \\1 \end{bmatrix}$.) We also visualize the approximation of $e^A$. To play with the visulization yourself, pick values for constants $a,b,c,d$, and choose $k$.</p>


<div class="twoCol_4060">
  
  <div>
   <div> 
  <fieldset>
      <legend class="controlLegend">Matrix Entries</legend>
 <div class="row">   
 <div class="range-wrap column" style="width: 42%;">
  <label for="a">$a$: </label>
  <input id = "a" type="range" class="range" min="-4" max="4" step = 0.5 value = "-1" oninput="new_function()">
  <output class="bubble"></output>
 </div>
  <div class="range-wrap column" style="width: 42%;">
  <label for="b">$b$: </label>
  <input id = "b" type="range" class="range" min="-4" max="4" step = 0.5 value = "2" oninput="new_function()">
  <output class="bubble"></output>
 </div>
 </div>
 <div class="row">   
 <div class="range-wrap column" style="width: 42%;">
  <label for="c">$c$: </label>
  <input id = "c" type="range" class="range" min="-4" max="4" step = 0.5 value = "0" oninput="new_function()">
  <output class="bubble"></output>
 </div>
  <div class="range-wrap column" style="width: 42%;">
  <label for="d">$d$: </label>
  <input id = "d" type="range" class="range" min="-4" max="4" step = 0.5 value = "3" oninput="new_function()">
  <output class="bubble"></output>
 </div>
 </div>
</fieldset>
 </div>
 <br>
   <div> 
  <fieldset>
      <legend class="controlLegend">Approximation of $e^A$</legend>
  <p> Let $A_k : =   ({\rm{I}}_n + (1/k)A)^k$. Then </p>
  <p> $e^A = \lim_{k \to \infty} A_k$.</p>
  <div class="range-wrap" style="width: 92%;">
  <label for="k">$k$: </label>
  <input id = "k" type="range" class="range" min="1" max="30" step = 1 value = "1" oninput="new_function()">
  <output class="bubble"></output>
 </div>     
 </fieldset>
 </div>
</div>


  <div>
    <div>
        <fieldset >
        <legend class="controlLegend">Graph</legend>
        <div id="myMatExp" style="width:100%;max-width:700px"></div>
<!--         <div id = "canvasdiv" >
        <div id = "box" class="jxgbox" style="width:600px; height:600px;">
          </div>
          </div> -->
        </fieldset>
    </div>
  </div>
</div>  

<br>

              
<script src="js/draw_matrix_exponential.js"> </script> 



<script src="js/draw_bubble.js"></script>

</article>
</body>

</html>